#Advent_of_cyber Walkthrough

Hey Guys! Hope you all doing good. 

I will post the solution for the advent of cyber 2 room here after 1 or 2 days of breathing time for you to try by yourself. 
Room Link: https://tryhackme.com/room/adventofcyber2 

## Important Note: if you still feel its hard and not getting the concepts, kindly post the same in the Issues tab 

## Day 1 Solution Steps: A christmas crisis
1. Install browser extensions like ‘edit this cookie’ or any other cookie manager browser add
2. After login to the site - click on the add to view the cookie name (key) with just a one click - rather that going into the dev tools
3. Copy the auth cookie value and navigate to the cyberchef site https://gchq.github.io/CyberChef/ paste the same - a magic stick will appear click on it - it will show the encoded format and the decoded value below
4. The decoded value is in key:value pair in ‘JSON’ format
5. Replace your username in the decoded value with ‘santa’ value and encode the same with ‘Hex’
6. Copy paste the resulted value into your auth cookie and refresh the site - boom! You will logged in as santa user - activate all the button to get the flags 

## Day 2 Solution Steps: The elf strikes back.
1. At the end of you machine target IP add ‘/id=ODIzODI5MTNiYmYw’ it will look something like http://<IP>?id=ODIzODI5MTNiYmYw
2. Analysis response page script for the allowed extensions (.jpeg, .png) - the answer is ‘images’
3. Do dirsearch for the target machine with the default scripts or analysis the upload file POST request directory - the answer is ‘/uploads’
4. Upload the php reverse shell - get the php file from https://github.com/pentestmonkey/php-reverse-shell/blob/master/php-reverse-shell.php copy paste the code, edit the IP and port with your machine IP and your wish port and rename the extension as .jpeg.png and upload the same
5. Netcat with the flag ‘-nvlp’ on the same port 
6. Access the file in http://<IP>/uploads/<file>.php you will get the reverse shell, cat the flag file in /var/www/flag.txt to get the same   

## Day 3 Solution Steps: The Christmas chaos.
1. Load the target site IP into your browser
2. Configure the browser proxy with burp as instructed in the room 
3. Give some test credentials in the login page and capture the request in burp 
4. Sent the request to intruder by pressing ‘Ctrl+i’ then do the necessary steps to brute force the username and password as instructed in the room description 
5. Start the attack, after the attack completes analys the length of the response - one response will have a lesser response length
6. Select that response and analysis it will redirect to the site post successful login - note the username and password and use the same to login to the site - you will get the flag for this task

## Day 4 Solution Steps: Santa's watching 
1. For the question “Given the URL "http://shibes.xyz/api.php", what would the entire wfuzz command look like to query the "breed" parameter using the wordlist "big.txt" (assume that "big.txt" is in your current directory)” - construct the command which will look like “wfuzz -c -z file,big.txt http://shibes.xyz/api.php?breed=FUZZ”
2. For the question “Use GoBuster (against the target you deployed -- not the shibes.xyz domain) to find the API directory. What file is there?” run the following command “gobuster dir -u http://10.10.247.63/api/ -w /usr/share/wordlists/dirb/big.txt -x php,txt” which will give 200 response code for the file ‘site-log.php’
3. To get the correct date we have to fuzz the date parameter from the API endpoint http://<IP>/api/web-log.php?date=?
4. Run the below wfuzz command to get the correct date 
    ‘sudo wfuzz -c -z file,wordlist -u http://10.10.247.63/api/site-log.php?date=FUZZ --hw 0’

## Day 5 Solution Steps: Someone Stole Santa's Gift list
1. For the 1st we have guess for that we can use the general used in the site and website context - use hint for the same (as it says two words from the question) - ../santapanel will get you the site
2. On the login page use the sql command [ ‘ OR 1=1 /* ] on the username and leave the password blank  - this will take you into the site as the default user (may be admin)
3. On the website again use the same payload [ ‘ OR 1=1 /* ] this will create a true statement and will list all the entries available in the gift database - count it and enter the same
4. From the list for the name ‘paul’ we have ‘Github ownership’ as the gift enter the same 
5. Give some text at the search field and capture the request using the burp - Right click and save the request - on the sqlmap provide the comment sudo ‘sqlmap -r sqlrequest --batch --level 3 --risk 3 --dump’ to get the flag and admin password 

## Day 6 Solution Steps: Be Careful with what you wish on a christmas night
1. In the wise filed we have the stores XSS where our payload getting stored in BD with being sanitized at the client and server end 
2. Our payload are getting reflected back in to the site on the query parameter ‘q’
3. Open the ZAP proxy application and paste the URL into the automated scan and click on scan for the automated scanning - once the scan completes click the alert tab available at the bottom pan where you can see the potentials vulnerabilities (here we have 5) - In those 2 are related to XSS

## Day 7 Solution Steps: typing ...
